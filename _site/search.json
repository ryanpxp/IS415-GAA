[
  {
    "objectID": "In-class_Ex/In-class_Ex04/In-class_Ex04.html",
    "href": "In-class_Ex/In-class_Ex04/In-class_Ex04.html",
    "title": "In-class_Ex04",
    "section": "",
    "text": "load package\n\npacman::p_load(tmap, sf, tidyverse, raster, spatstat, sparr)\n\nimport data\n\nkbb &lt;- st_read(dsn=\"data/rawdata/\", layer = \"Kepulauan_Bangka_Belitung\")\n\nReading layer `Kepulauan_Bangka_Belitung' from data source \n  `C:\\ryanpxp\\IS415-GAA\\In-class_Ex\\In-class_Ex04\\data\\rawdata' \n  using driver `ESRI Shapefile'\nSimple feature collection with 298 features and 27 fields\nGeometry type: POLYGON\nDimension:     XYZ\nBounding box:  xmin: 105.1085 ymin: -3.116593 xmax: 106.8488 ymax: -1.501603\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\n\n#%&gt;%st_transform(32748)\n\n\nkbb\n\nSimple feature collection with 298 features and 27 fields\nGeometry type: POLYGON\nDimension:     XYZ\nBounding box:  xmin: 105.1085 ymin: -3.116593 xmax: 106.8488 ymax: -1.501603\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\nFirst 10 features:\n   OBJECTID         NAMOBJ      FCODE REMARK\n1     26195        Airbara BA03070040   &lt;NA&gt;\n2     26196       Airgegas BA03070040   &lt;NA&gt;\n3     26197    Arung Dalam BA03070040   &lt;NA&gt;\n4     26202 Batu Betumpang BA03070040   &lt;NA&gt;\n5     26205      Bedengung BA03070040   &lt;NA&gt;\n6     26206      Belimbing BA03070040   &lt;NA&gt;\n7     26207         Bencah BA03070040   &lt;NA&gt;\n8     26209          Berok BA03070040   &lt;NA&gt;\n9     26210         Bikang BA03070040   &lt;NA&gt;\n10    26212    Bukit Terap BA03070040   &lt;NA&gt;\n                                       METADATA SRS_ID KDBBPS KDCBPS   KDCPUM\n1  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.03\n2  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.03\n3  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.04.01\n4  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.07\n5  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.05\n6  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.04.06\n7  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.03\n8  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.04.01\n9  TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.01\n10 TASWIL1000020221227_DATA_BATAS_DESAKELURAHAN   4326   &lt;NA&gt;   &lt;NA&gt; 19.03.06\n   KDEBPS        KDEPUM KDPBPS KDPKAB KDPPUM LUASWH TIPADM      WADMKC\n1    &lt;NA&gt; 19.03.03.2008   &lt;NA&gt;  19.03     19      0      1   Air Gegas\n2    &lt;NA&gt; 19.03.03.2001   &lt;NA&gt;  19.03     19      0      1   Air Gegas\n3    &lt;NA&gt; 19.04.01.1002   &lt;NA&gt;  19.04     19      0      2        Koba\n4    &lt;NA&gt; 19.03.07.2001   &lt;NA&gt;  19.03     19      0      1  Pulaubesar\n5    &lt;NA&gt; 19.03.05.2006   &lt;NA&gt;  19.03     19      0      1      Payung\n6    &lt;NA&gt; 19.04.06.2009   &lt;NA&gt;  19.04     19      0      1 Lubuk Besar\n7    &lt;NA&gt; 19.03.03.2004   &lt;NA&gt;  19.03     19      0      1   Air Gegas\n8    &lt;NA&gt; 19.04.01.1017   &lt;NA&gt;  19.04     19      0      2        Koba\n9    &lt;NA&gt; 19.03.01.2006   &lt;NA&gt;  19.03     19      0      1     Toboali\n10   &lt;NA&gt; 19.03.06.2005   &lt;NA&gt;  19.03     19      0      1 Tukak Sadai\n           WADMKD         WADMKK                    WADMPR WIADKC WIADKK WIADPR\n1         Airbara Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n2        Airgegas Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n3     Arung Dalam  Bangka Tengah Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n4  Batu Betumpang Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n5       Bedengung Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n6       Belimbing  Bangka Tengah Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n7          Bencah Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n8           Berok  Bangka Tengah Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n9          Bikang Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n10    Bukit Terap Bangka Selatan Kepulauan Bangka Belitung   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;\n   WIADKD                            UUPP       LUAS      AREA\n1    &lt;NA&gt; Hasil Delineasi Batas Desa 2019  77.160034  77160034\n2    &lt;NA&gt; Hasil Delineasi Batas Desa 2019  68.445344  68445426\n3       0 Hasil Delineasi Batas Desa 2019  20.759893  20759893\n4    &lt;NA&gt; Hasil Delineasi Batas Desa 2019 138.255656 138247711\n5    &lt;NA&gt; Hasil Delineasi Batas Desa 2019  96.103135  96102987\n6    &lt;NA&gt; Hasil Delineasi Batas Desa 2019  21.356034  21356035\n7    &lt;NA&gt; Hasil Delineasi Batas Desa 2019 133.589935 133590216\n8       0 Hasil Delineasi Batas Desa 2019   3.196318   3196318\n9    &lt;NA&gt; Hasil Delineasi Batas Desa 2019  53.235589  53235592\n10   &lt;NA&gt; Hasil Delineasi Batas Desa 2019  18.038894  18038895\n                         geometry\n1  POLYGON Z ((106.4285 -2.562...\n2  POLYGON Z ((106.4589 -2.692...\n3  POLYGON Z ((106.3998 -2.478...\n4  POLYGON Z ((106.0563 -2.778...\n5  POLYGON Z ((106.2187 -2.679...\n6  POLYGON Z ((106.4636 -2.568...\n7  POLYGON Z ((106.5133 -2.724...\n8  POLYGON Z ((106.4047 -2.477...\n9  POLYGON Z ((106.522 -2.8827...\n10 POLYGON Z ((106.6278 -2.968...\n\n\n\nhave z entity when using view(kbb) (z polygon)-&gt; need to drop the z property as it will crash\nneed to dissolve boundary\nwgs 84, epsg code to look for the area &gt;\n\nrevised code chunk\n\nkbb_sf &lt;- st_read(dsn=\"data/rawdata/\", layer = \"Kepulauan_Bangka_Belitung\") %&gt;%\n  st_union() %&gt;%\n  st_zm(drop = TRUE, what = \"ZM\") %&gt;%\n  st_transform(crs = 32748)\n\nReading layer `Kepulauan_Bangka_Belitung' from data source \n  `C:\\ryanpxp\\IS415-GAA\\In-class_Ex\\In-class_Ex04\\data\\rawdata' \n  using driver `ESRI Shapefile'\nSimple feature collection with 298 features and 27 fields\nGeometry type: POLYGON\nDimension:     XYZ\nBounding box:  xmin: 105.1085 ymin: -3.116593 xmax: 106.8488 ymax: -1.501603\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\n\n\nst_as_s2(): dropping Z and/or M coordinate\n\n\nuse non sf to see error\n\n#kbb_owin1 &lt;- as.owin(kbb)\nkbb_owin &lt;- as.owin(kbb_sf)\nkbb_owin\n\nwindow: polygonal boundary\nenclosing rectangle: [512066.8, 705559.4] x [9655398, 9834006] units\n\n\nuse class to check sppp\n\nclass(kbb_owin)\n\n[1] \"owin\"\n\n\nopen csv file\n\nfire_sf &lt;- read_csv(\"data/rawdata/forestfires.csv\") %&gt;%\n  st_as_sf(coords = c(\"longitude\", \"latitude\"),\n           crs = 4326) %&gt;%\n  st_transform(crs = 32748)\n\nRows: 741 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (3): satellite, instrument, daynight\ndbl  (11): latitude, longitude, brightness, scan, track, acq_time, confidenc...\ndate  (1): acq_date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nread_csv belong to tidyverse package(family package - e.g. readr, stringr, tidyr …)\nst_as_sf convert to spatial data must be in this order of long and lat (always have to be this case because of x,y coord)\nhttps://epsg.io/4326 4326 for the whole world\n\nfor testing and comparison\n\nfire &lt;- read_csv(\"data/rawdata/forestfires.csv\")\n\nRows: 741 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (3): satellite, instrument, daynight\ndbl  (11): latitude, longitude, brightness, scan, track, acq_time, confidenc...\ndate  (1): acq_date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nclass(fire)\n\n[1] \"spec_tbl_df\" \"tbl_df\"      \"tbl\"         \"data.frame\" \n\n\nnotice is a tibbl data frame\nppp only accepts numerical or character as mark so need to convert date format to numerical (can be seen from the doc)\n\nfire_sf &lt;- fire_sf %&gt;%\n  mutate(DayOfYear = yday(acq_date)) %&gt;%\n  mutate(Month_num = month(acq_date)) %&gt;%\n  mutate(Month_fac = month(acq_date,\n                           label = TRUE,\n                           abbr = FALSE))\n\n\nfac make it it into like jan, feb instead of 1,2, save for map form when presenting data\nlubridate is the package in tidyverse used for date field\nacq_date is the name of the field for all this\nmutate adds columns, need to overwrite to save to same var\n\nvisualisation\n\ntm_shape(kbb_sf) + \n  tm_polygons() +\n  tm_shape(fire_sf) + tm_dots()\n\n\n\n\n\n\n\ntmap_mode('plot')\n\ntmap mode set to plotting\n\n\n\ntm_symbol if you have png for custom markers\ntm_bubbles for proportional, will be relative to zoom, might block view\ntm_dots don’t map with size, can have different colours instead compared to bubbles, will have constant size when zoom in or our\npolygon should be plot first before points, or will overlap unless polygon is transparent/translucent\n\nvisualisation overtime(facets):\n\ntm_shape(kbb_sf) + \n  tm_polygons() +\n  tm_shape(fire_sf) + \n  tm_dots(size = 0.1) +\n  tm_facets(by=\"Month_fac\",\n            free.coords = FALSE,\n            drop.units = TRUE)\n\n\n\n\n\n\n\n\n\ndot size self explanatory\nby is sorting else will be alphabetical instead of month\nfree coord will zoom if not false\nfrom chatgpt: In tmap (Thematic Map) plots, the argument drop.units in tm_facets() controls whether or not the coordinate units (geographical units like degrees, meters, etc.) are displayed alongside each facet’s axes.\n\nWhen drop.units = TRUE, the units on the axes are not shown for each facet, reducing visual clutter. When drop.units = FALSE, the coordinate units are retained for each facet, which might be useful for maintaining clear axis information across multiple panels. In your case, setting drop.units = TRUE will hide the units in each facet for a cleaner presentation of the data in each individual month.\nsparr: can capture relative risk also, i.e. a control group\nas.ppp()\n\nfire_month &lt;- fire_sf %&gt;%\n  dplyr::select(Month_num)\n\n\nfire_month_ppp &lt;- as.ppp(fire_month)\nfire_month_ppp\n\nMarked planar point pattern: 741 points\nmarks are numeric, of storage type  'double'\nwindow: rectangle = [521564.1, 695791] x [9658137, 9828767] units\n\n\n\nsummary(fire_month_ppp)\n\nMarked planar point pattern:  741 points\nAverage intensity 2.49258e-08 points per square unit\n\nCoordinates are given to 10 decimal places\n\nmarks are numeric, of type 'double'\nSummary:\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   8.000   9.000   8.579  10.000  12.000 \n\nWindow: rectangle = [521564.1, 695791] x [9658137, 9828767] units\n                    (174200 x 170600 units)\nWindow area = 29728200000 square units\n\n\n\nfire_month_owin &lt;- fire_month_ppp[kbb_owin]\nsummary(fire_month_owin)\n\nMarked planar point pattern:  741 points\nAverage intensity 6.424519e-08 points per square unit\n\nCoordinates are given to 10 decimal places\n\nmarks are numeric, of type 'double'\nSummary:\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   8.000   9.000   8.579  10.000  12.000 \n\nWindow: polygonal boundary\n2 separate polygons (no holes)\n           vertices        area relative.area\npolygon 1     47493 11533600000      1.00e+00\npolygon 2       256      306427      2.66e-05\nenclosing rectangle: [512066.8, 705559.4] x [9655398, 9834006] units\n                     (193500 x 178600 units)\nWindow area = 11533900000 square units\nFraction of frame area: 0.334\n\n\n\nst_kde &lt;- spattemp.density(fire_month_owin)\n\nCalculating trivariate smooth...Done.\nEdge-correcting...Done.\nConditioning on time...Done.\n\nsummary(st_kde)\n\nSpatiotemporal Kernel Density Estimate\n\nBandwidths\n  h = 15102.47 (spatial)\n  lambda = 0.0304 (temporal)\n\nNo. of observations\n  741 \n\nSpatial bound\n  Type: polygonal\n  2D enclosure: [512066.8, 705559.4] x [9655398, 9834006]\n\nTemporal bound\n  [1, 12]\n\nEvaluation\n  128 x 128 x 12 trivariate lattice\n  Density range: [1.233458e-27, 8.202976e-10]\n\n\nh = in metres lambda = 0.03 means 0.03 months can plot it to visualise we start from july because from visual before most of the fire start from july\n\n# | fig-width: 12\n# | fig-height: 10\n\ntims &lt;- c(7,8,9,10,11,12)\npar(mfcols=c(2,3))\n\nWarning in par(mfcols = c(2, 3)): \"mfcols\" is not a graphical parameter\n\nfor (i in tims) {\n  plot(st_kde, i,\n       override.par=FALSE,\n       fix.range=TRUE,\n       main=paste(\"KDE at month\",i))\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmain paste is for title\nquarto too cramp use fig width and height\n\nalternative method\n\n#kde_yday &lt;- spattemp.density(\n # fire_yday_owin\n#)\n#summary(kde_yday)\n\nshow all 300 days not efficient use a package to make animated map sparr have a method"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "title": "Take-home_Ex01",
    "section": "",
    "text": "To apply spatial point patterns analysis methods to discover the spatial and spatio-temporal distribution of armed conflict in Myanmar."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#overview",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#overview",
    "title": "Take-home_Ex01",
    "section": "",
    "text": "To apply spatial point patterns analysis methods to discover the spatial and spatio-temporal distribution of armed conflict in Myanmar."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#setup",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#setup",
    "title": "Take-home_Ex01",
    "section": "2 Setup",
    "text": "2 Setup\n\n2.1 Data\n\nFor the purpose of this assignment, armed conflict data of Myanmar between 2021-2024 from Armed Conflict Location & Event Data (ACLED), an independent, impartial, international non-profit organization collecting data on violent conflict and protest in all countries and territories in the world, should be used.\nIn terms of event types, students should focus on at least four main event types, namely: Battles, Explosion/Remote violence, Strategic developments, and Violence against civilians.\nIn terms of study period, students should focus on quarterly armed conflict events from January 2021 until June 2024.\nGeospatial data on Myanmar Information Management Unit, MIMU"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#the-task",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#the-task",
    "title": "Take-home_Ex01",
    "section": "3 The Task",
    "text": "3 The Task\nThe specific tasks of this take-home exercise are as follows:\n\nUsing appropriate function of sf and tidyverse packages, import and transform the downloaded armed conflict data and administrative boundary data into sf tibble data.frames.\nUsing the geospatial data sets prepared, derive quarterly KDE layers.\nUsing the geospatial data sets prepared, perform 2nd-Order Spatial Point Patterns Analysis.\nUsing the geospatial data sets prepared, derive quarterly spatio-temporal KDE layers.\nUsing the geospatial data sets prepared, perform 2nd-Order Spatio-temporal Point Patterns Analysis.\nUsing appropriate tmap functions, display the KDE and Spatio-temporal KDE layers on openstreetmap of Myanmar.\nDescribe the spatial patterns revealed by the KDE and Spatio-temporal KDE maps.\n\n\n#pacman::p_load(tmap, sf, tidyverse, raster, spatstat, sp)\n\n\n#mymdata &lt;- read.csv(\"data/ACLED_Myanmar_2021_2024.csv\")\n\n\n#mymdata"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex04/data/rawdata/Kepulauan_Bangka_Belitung.html",
    "href": "In-class_Ex/In-class_Ex04/data/rawdata/Kepulauan_Bangka_Belitung.html",
    "title": "IS415-GAA",
    "section": "",
    "text": "&lt;!DOCTYPE qgis PUBLIC ‘http://mrcc.com/qgis.dtd’ ‘SYSTEM’&gt;     \n\n\n       GEOGCRS[“WGS 84”,ENSEMBLE[“World Geodetic System 1984 ensemble”,MEMBER[“World Geodetic System 1984 (Transit)”],MEMBER[“World Geodetic System 1984 (G730)”],MEMBER[“World Geodetic System 1984 (G873)”],MEMBER[“World Geodetic System 1984 (G1150)”],MEMBER[“World Geodetic System 1984 (G1674)”],MEMBER[“World Geodetic System 1984 (G1762)”],MEMBER[“World Geodetic System 1984 (G2139)”],ELLIPSOID[“WGS 84”,6378137,298.257223563,LENGTHUNIT[“metre”,1]],ENSEMBLEACCURACY[2.0]],PRIMEM[“Greenwich”,0,ANGLEUNIT[“degree”,0.0174532925199433]],CS[ellipsoidal,2],AXIS[“geodetic latitude (Lat)”,north,ORDER[1],ANGLEUNIT[“degree”,0.0174532925199433]],AXIS[“geodetic longitude (Lon)”,east,ORDER[2],ANGLEUNIT[“degree”,0.0174532925199433]],USAGE[SCOPE[“Horizontal component of 3D system.”],AREA[“World.”],BBOX[-90,-180,90,180]],ID[“EPSG”,4326]] +proj=longlat +datum=WGS84 +no_defs 3452 4326 EPSG:4326 WGS 84 longlat EPSG:7030 true"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex01/data/MPSZ-2019.html",
    "href": "In-class_Ex/In-class_Ex01/data/MPSZ-2019.html",
    "title": "IS415-GAA",
    "section": "",
    "text": "&lt;!DOCTYPE qgis PUBLIC ‘http://mrcc.com/qgis.dtd’ ‘SYSTEM’&gt;     dataset\n\n\n        0 0     false"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02/data/MPSZ-2019.html",
    "href": "In-class_Ex/In-class_Ex02/data/MPSZ-2019.html",
    "title": "IS415-GAA",
    "section": "",
    "text": "&lt;!DOCTYPE qgis PUBLIC ‘http://mrcc.com/qgis.dtd’ ‘SYSTEM’&gt;     dataset\n\n\n        0 0     false"
  }
]